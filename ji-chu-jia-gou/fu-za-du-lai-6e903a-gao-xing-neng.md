# 复杂度来源 : 高性能

软件系统中高性能带来的复杂度主要体现在两方面 , 一方面是单台计算机内部为了高性能带来的复杂度 ; 另一方面是多台计算机集群为了高性能带来的复杂度 .

#### 单机复杂度

计算机内部复杂度最关键的地方就是操作系统 . 操作系统的复杂度直接决定了软件系统的复杂度 .

操作系统和性能相关的就是**进程**和**线程** .

早在没有操作系统时 , 输入一个指令 , 计算然后输出 . 为了解决手工操作带来的低效 , 批处理操作系统应运而生 . **批处理**就是把指令预先写下来 , 到纸带 , 磁带 , 磁盘等 . 然后将这个清单任务交给计算机执行 .

批处理大大提升了处理性能 , 但明显的一个缺点是计算机一次只能执行一个任务 , 如果某个任务需要从I/O设备读取大量的数据 , 在这个过程中 , CPU其实是空闲的 , 而这个空闲时间本来是可以进行其他计算的 . 

为了进一步提升性能 , **进程**发明了出来 , 用进程来对应一个任务 , 每个任务都有自己独立的内存空间 , 进程间互互不相关 , 由操作系统来进行调度 . 此时的CPU还没有多核和多线程的概念 , 为了达到**多进程并行**的目的 , 采取了**分时**的方式 , 即把CPU的时间分成很多段 , 每个片段只能执行某个进程中的指令 . 虽然从操作系统和CPU的角度来说还是**串行处理**的 , 但是由于CPU的处理速度很快 , 从用户的角度来看 , 感觉是多进程在并行处理 .

